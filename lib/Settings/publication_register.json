{
  "openapi": "3.0.0",
  "components": {
    "registers": {
      "publication": {
        "slug": "publication",
        "title": "Publication",
        "version": "0.0.3",
        "description": "The publication register is the core register of the OpenCatalogi application. It manages all content types needed for creating and maintaining a catalog website, including catalogs, listings, organizations, publications, themes, pages, menus, and glossary items. This register enables the creation of rich, navigable catalog websites with proper content organization and user-friendly navigation.",
        "schemas": ["catalog", "listing", "organization", "publication", "theme", "page", "menu", "glossary"],
        "tablePrefix": "",
        "folder": "Open Registers/Publication Register",
        "updated": "2025-04-17T14:05:34+00:00",
        "created": "2025-04-14T15:13:10+00:00"
      }
    },
    "schemas": {
      "publication": {
        "slug": "publication",
        "title": "Publication",
        "version": "0.0.2",
        "summary": "A single publication entry within the catalog",
        "description": "A publication represents an individual piece of content within the catalog. It can be associated with themes and schemas, and is the primary unit of content that users can view and interact with. Publications can be linked to specific organizations and can be either public or private.",
        "icon": null,
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The title of the publication",
            "maxLength": 255,
            "minLength": 1
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the publication",
            "maxLength": 255
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the publication",
            "maxLength": 2555
          },
          "organization": {
            "type": "string",
            "description": "Reference to the organization that owns this publication"
          },
          "themes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of themes associated with this publication"
          }
        },
        "hardValidation": false
      },
      "catalog": {
        "slug": "catalog",
        "title": "Catalog",
        "version": "0.0.2",
        "summary": "A collection of publications organized by theme and schema",
        "description": "A catalog represents a curated collection of publications that can be organized by themes and schemas. It serves as the main organizational unit for content, allowing administrators to group related publications together and make them accessible through a unified interface. Catalogs can be public or private and can be associated with specific organizations.",
        "icon": null,
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The title of the catalog",
            "maxLength": 255,
            "minLength": 1
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the catalog",
            "maxLength": 255
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the catalog",
            "maxLength": 2555
          },
          "image": {
            "type": "string",
            "description": "URL to the catalog's image",
            "maxLength": 255
          },
          "listed": {
            "type": "boolean",
            "description": "Whether the catalog is publicly listed"
          },
          "organization": {
            "type": "string",
            "description": "Reference to the organization that owns this catalog"
          },
          "registers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of register IDs associated with this catalog"
          },
          "schemas": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of schema IDs associated with this catalog"
          },
          "filters": {
            "type": "object",
            "description": "Custom filters for the catalog",
            "additionalProperties": true
          },
          "status": {
            "type": "string",
            "description": "The Lifecycle status of the catalog",
            "enum": [
                "development",
                "beta",
                "stable",
                "obsolete"
            ]
          }
        },
        "hardValidation": true
      },
      "listing": {
        "slug": "listing",
        "title": "Listing",
        "version": "0.0.2",
        "summary": "A filtered view of publications within a catalog",
        "description": "A listing provides a customizable view of publications within a catalog. It allows for the creation of specific publication collections based on filters, sorting, and presentation preferences. Listings can be used to create featured sections, topic-based collections, or any other organized view of publications.",
        "icon": null,
        "required": ["catalogusId", "title", "summary"],
        "properties": {
          "catalogusId": {
            "type": "string",
            "description": "ID of the catalog this listing belongs to"
          },
          "title": {
            "type": "string",
            "description": "The title of the listing",
            "minLength": 1
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the listing",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the listing"
          },
          "search": {
            "type": "string",
            "description": "Search URL for the listing",
            "format": "url"
          },
          "publications": {
            "type": "string",
            "description": "Publications API endpoint URL for the listing",
            "format": "url"
          },
          "directory": {
            "type": "string",
            "description": "Directory URL for the listing",
            "format": "url"
          },
          "metadata": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Metadata fields for the listing"
          },
          "status": {
            "type": "string",
            "description": "Current status of the listing",
		    "enum": [
				"development",
				"beta",
				"stable",
				"obsolete"
			]
          },
		  "statusMessage": {
			"type": "string",
			"description": "Message of the latest status test"
		  },
          "statusCode": {
            "type": "number",
            "description": "HTTP status code of the listing",
            "minimum": 200
          },
          "lastSync": {
            "type": "string",
            "description": "Timestamp of the last synchronization",
            "format": "date-time"
          },
          "integrationLevel": {
            "type": "string",
            "description": "The level of integration the listing is used in",
		    "enum": [
			  "none",
			  "connection",
			  "search"
			]
          },
          "default": {
            "type": "boolean",
            "description": "Whether this is the default listing"
          },
          "organization": {
            "type": "object",
            "description": "An organization object"
          },
          "schemas": {
            "type": "array",
            "description": "Types of publications in this listing"
          },
            "version": {
                "type": "string",
                "description": "The version of OpenCatalogi the source of the listing runs"
            }
        },
        "hardValidation": true
      },
      "organization": {
        "slug": "organization",
        "title": "Organization",
        "version": "0.0.2",
        "summary": "An organization that publishes or manages catalogs",
        "description": "Organizations represent entities that publish or manage catalogs. They can be government agencies, companies, or other institutions. Each organization can have multiple catalogs and is identified by various standardized identifiers like OIN, RSIN, and PKI certificates.",
        "icon": null,
        "required": ["name", "summary"],
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the organization",
            "minLength": 1
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the organization",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the organization"
          },
          "oin": {
            "type": "string",
            "description": "Organization Identification Number (OIN)",
            "pattern": "^0000000\\d{10}000$"
          },
          "tooi": {
            "type": "string",
            "description": "TOOI identifier for the organization",
            "pattern": "^\\w{2,}\\d{4}$"
          },
          "rsin": {
            "type": "string",
            "description": "RSIN number for tax identification",
            "pattern": "^\\d{9}$"
          },
          "pki": {
            "type": "string",
            "description": "PKI certificate information",
            "pattern": "^\\d{1,}$"
          },
          "image": {
            "type": "string",
            "description": "URL to the organization's logo or image"
          }
        },
        "hardValidation": true
      },
      "page": {
        "slug": "page",
        "title": "Page",
        "version": "0.0.1",
        "summary": "A content page for static information",
        "description": "Pages are used to create static content within the catalog website. They can contain information about how to use the catalog, contact information, about pages, or any other static content that needs to be accessible through the website. Pages are accessible through their unique slugs and can be organized in the navigation menu.",
        "icon": null,
        "required": ["title", "slug"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The title of the page",
            "minLength": 1
          },
          "slug": {
            "type": "string",
            "description": "URL-friendly version of the page name",
            "pattern": "^[a-z0-9-]+$",
            "minLength": 1
          },
          "contents": {
            "type": "array",
            "description": "Content blocks of the page",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "description": "Type of content block",
                  "minLength": 1
                },
                "id": {
                  "type": "string",
                  "description": "Identifier for the content block"
                },
                "data": {
                  "type": "object",
                  "description": "Content block data",
                  "additionalProperties": true
                },
                "groups": {
                  "type": "array",
                  "description": "Nextcloud groups that have access to this content block",
                  "items": {
                    "type": "string"
                  }
                },

                "hideAfterLogin": {
                  "type": "boolean",
                  "description": "Whether to hide this content block after user login"
                },
                "hideBeforeLogin": {
                  "type": "boolean",
                  "description": "Whether to hide this content block before user login"
                }
              },
              "required": ["type"]
            }
          },
          "groups": {
            "type": "array",
            "description": "Nextcloud groups that have access to this page",
            "items": {
              "type": "string"
            }
          },

          "hideAfterLogin": {
            "type": "boolean",
            "description": "Whether to hide this page after user login"
          },
          "hideBeforeLogin": {
            "type": "boolean",
            "description": "Whether to hide this page before user login"
          }
        },
        "hardValidation": true
      },
      "theme": {
        "slug": "theme",
        "title": "Theme",
        "version": "0.0.1",
        "summary": "A category for organizing publications",
        "description": "Themes are used to categorize publications within catalogs. They provide a way to group related publications together, making it easier for users to find content they're interested in. Themes can be hierarchical and can be used for navigation and filtering purposes.",
        "icon": null,
        "required": ["title", "summary"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The name of the theme",
            "minLength": 1
          },
          "summary": {
            "type": "string",
            "description": "Brief description of the theme",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the theme"
          },
          "image": {
            "type": "string",
            "description": "URL to the theme's image"
          }
        },
        "hardValidation": true
      },
      "menu": {
        "slug": "menu",
        "title": "Menu",
        "version": "0.0.1",
        "summary": "Navigation structure for the catalog website",
        "description": "Menus define the navigation structure of the catalog website. They allow administrators to organize pages, listings, and other content into a hierarchical navigation system. Multiple menus can be created for different purposes, such as main navigation, footer links, or specialized content groupings.",
        "icon": null,
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The name of the menu",
            "minLength": 1
          },
          "position": {
            "type": "number",
            "description": "Order position of the menu",
            "minimum": 0
          },
          "items": {
            "type": "array",
            "description": "Menu items and their structure",
            "items": {
              "type": "object",
              "properties": {
                "order": { "type": "number", "description": "Order/position of the menu item within the menu", "minimum": 0 },
                "name": { "type": "string", "description": "Name of the menu item", "minLength": 1 },
                "link": { "type": "string", "description": "URL or path for the menu item", "minLength": 1 },
                "description": { "type": "string", "description": "Description of the menu item" },
                "icon": { "type": "string", "description": "Icon for the menu item" },
                "groups": { "type": "array", "description": "Nextcloud groups that have access to this menu item", "items": { "type": "string" } },

                "hideAfterLogin": { "type": "boolean", "description": "Whether to hide this menu item after user login" },
                "hideBeforeLogin": { "type": "boolean", "description": "Whether to hide this menu item before user login" },
                "items": {
                  "type": "array",
                  "description": "Submenu items",
                  "items": {
                    "type": "object",
                    "properties": {
                      "order": { "type": "number", "description": "Order/position of the submenu item within its parent", "minimum": 0 },
                      "name": { "type": "string", "description": "Name of the submenu item", "minLength": 1 },
                      "link": { "type": "string", "description": "URL or path for the submenu item", "minLength": 1 },
                      "description": { "type": "string", "description": "Description of the submenu item" },
                      "icon": { "type": "string", "description": "Icon for the submenu item" },
                      "groups": { "type": "array", "description": "Nextcloud groups that have access to this submenu item", "items": { "type": "string" } },

                      "hideAfterLogin": { "type": "boolean", "description": "Whether to hide this submenu item after user login" },
                      "hideBeforeLogin": { "type": "boolean", "description": "Whether to hide this submenu item before user login" }
                    },
                    "required": ["order", "name", "link"]
                  }
                }
              },
              "required": ["order", "name", "link"]
            }
          },
          "groups": {
            "type": "array",
            "description": "Nextcloud groups that have access to this menu",
            "items": {
              "type": "string"
            }
          },

          "hideBeforeLogin": {
            "type": "boolean",
            "description": "Whether to hide this menu before user login"
          }
        },
        "hardValidation": true
      },
      "glossary": {
        "slug": "glossary",
        "title": "Glossary",
        "version": "0.0.2",
        "summary": "Definitions and explanations of terms used in the catalog",
        "description": "The glossary provides definitions and explanations for terms used throughout the catalog. It helps users understand specialized terminology, acronyms, and concepts. Each glossary entry can include detailed explanations, external references, and related keywords to help users find and understand relevant information.",
        "icon": null,
        "required": ["title"],
        "properties": {
          "title": {
            "type": "string",
            "description": "The term being defined",
            "minLength": 1,
            "maxLength": 255
          },
          "summary": {
            "type": "string",
            "description": "Brief definition of the term",
            "maxLength": 255
          },
          "description": {
            "type": "string",
            "description": "Detailed explanation of the term",
            "maxLength": 2555
          },
          "externalLink": {
            "type": "string",
            "description": "URL to external reference or documentation",
            "format": "url",
            "maxLength": 255
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Related search terms and synonyms"
          }
        },
        "hardValidation": true
      }
    },
    "endpoints": [],
    "sources": [],
    "mappings": [],
    "jobs": [],
    "synchronizations": [],
    "rules": [],
    "objects": [
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "home"
        },
        "title": "Home",
        "slug": "home",
        "name": "home",
        "contents": [
          {
            "type": "text",
            "id": "welcome",
            "data": {
              "text": "Welcome to OpenCatalogi",
              "html": "<h1>Welcome to OpenCatalogi</h1><p>This is the default home page for your catalog website. You can customize this content through the admin interface.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "main-navigation"
        },
        "title": "Main Navigation",
        "name": "main-navigation",
        "position": 1,
        "items": [
          {
            "name": "Home",
            "slug": "home",
            "link": "/",
            "description": "Homepage",
            "icon": "home"
          },
          {
            "name": "Catalogs",
            "slug": "catalogs",
            "link": "/catalogs",
            "description": "Browse available catalogs",
            "icon": "catalog"
          },
          {
            "name": "Publications",
            "slug": "publications",
            "link": "/publications",
            "description": "Browse all publications",
            "icon": "publication"
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "catalog",
          "version": "1.1.0",
          "slug": "default-catalog"
        },
        "title": "Default Catalog",
        "name": "default-catalog",
        "summary": "The default catalog for OpenCatalogi",
        "description": "This is the default catalog created during initial setup. It contains sample content to help you get started with OpenCatalogi.",
        "image": "",
        "listed": true,
        "organization": "",
        "registers": [],
        "schemas": [],
        "filters": {},
        "status": "development"
      },
      {
        "@self": {
          "register": "publication",
          "schema": "publication",
          "version": "1.1.0",
          "slug": "welcome-publication"
        },
        "title": "Welcome Publication",
        "name": "welcome-publication",
        "summary": "A sample publication to demonstrate OpenCatalogi functionality",
        "description": "This is a sample publication created during the initial setup of OpenCatalogi. It demonstrates how publications work within the catalog system and can be used as a template for creating your own content.",
        "organization": "",
        "themes": []
      },
      {
        "@self": {
          "register": "publication",
          "schema": "organization",
          "version": "1.1.0",
          "slug": "default-organization"
        },
        "name": "Default Organization",
        "summary": "The default organization for this OpenCatalogi instance",
        "description": "This is the default organization created during initial setup. You can modify this organization or create additional organizations through the admin interface."
      },
      {
        "@self": {
          "register": "publication",
          "schema": "theme",
          "version": "1.1.0",
          "slug": "general-theme"
        },
        "title": "General",
        "name": "general-theme",
        "summary": "General theme for uncategorized content",
        "description": "This is a default theme for general content that doesn't fit into specific categories. You can create additional themes to better organize your publications.",
        "image": ""
      },
      {
        "@self": {
          "register": "publication",
          "schema": "glossary",
          "version": "1.1.0",
          "slug": "catalog-glossary"
        },
        "title": "Catalog",
        "name": "catalog-glossary",
        "summary": "A collection of publications organized by theme and schema",
        "description": "A catalog represents a curated collection of publications that can be organized by themes and schemas. It serves as the main organizational unit for content, allowing administrators to group related publications together and make them accessible through a unified interface.",
        "externalLink": "",
        "keywords": ["catalog", "collection", "publications", "organization", "content management"]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "about-us"
        },
        "title": "About Us",
        "slug": "about-us",
        "contents": [
          {
            "type": "text",
            "id": "about-content",
            "data": {
              "text": "About Us",
              "html": "<h1>About Us</h1><p>Learn more about our organization and mission.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "accessibility"
        },
        "title": "Accessibility",
        "slug": "accessibility",
        "contents": [
          {
            "type": "text",
            "id": "accessibility-content",
            "data": {
              "text": "Accessibility",
              "html": "<h1>Accessibility</h1><p>Information about our commitment to accessibility and how to report accessibility issues.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "contact"
        },
        "title": "Contact",
        "slug": "contact",
        "contents": [
          {
            "type": "text",
            "id": "contact-content",
            "data": {
              "text": "Contact",
              "html": "<h1>Contact</h1><p>Get in touch with us through the following channels.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "faq"
        },
        "title": "FAQ",
        "slug": "faq",
        "contents": [
          {
            "type": "text",
            "id": "faq-content",
            "data": {
              "text": "Frequently Asked Questions",
              "html": "<h1>Frequently Asked Questions</h1><p>Find answers to commonly asked questions.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "cookies"
        },
        "title": "Cookies",
        "slug": "cookies",
        "contents": [
          {
            "type": "text",
            "id": "cookies-content",
            "data": {
              "text": "Cookie Policy",
              "html": "<h1>Cookie Policy</h1><p>Information about how we use cookies on this website.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "privacy"
        },
        "title": "Privacy",
        "slug": "privacy",
        "contents": [
          {
            "type": "text",
            "id": "privacy-content",
            "data": {
              "text": "Privacy Policy",
              "html": "<h1>Privacy Policy</h1><p>Our privacy policy explains how we collect, use, and protect your personal information.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "disclaimer"
        },
        "title": "Disclaimer",
        "slug": "disclaimer",
        "contents": [
          {
            "type": "text",
            "id": "disclaimer-content",
            "data": {
              "text": "Disclaimer",
              "html": "<h1>Disclaimer</h1><p>Important legal disclaimers and limitations of liability.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "page",
          "version": "1.1.0",
          "slug": "website"
        },
        "title": "Website",
        "slug": "website",
        "contents": [
          {
            "type": "text",
            "id": "website-content",
            "data": {
              "text": "Website Information",
              "html": "<h1>Website Information</h1><p>Information about this website, its purpose, and technical details.</p>"
            }
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "user-menu"
        },
        "title": "User Menu",
        "position": 1,
        "items": [
          {
            "order": 1,
            "name": "Profile",
            "link": "/profile",
            "description": "User profile page",
            "icon": "user",
            "hideBeforeLogin": true
          },
          {
            "order": 2,
            "name": "Settings",
            "link": "/settings",
            "description": "User settings",
            "icon": "settings",
            "hideBeforeLogin": true
          },
          {
            "order": 3,
            "name": "Logout",
            "link": "/logout",
            "description": "Sign out",
            "icon": "logout",
            "hideBeforeLogin": true
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "admin-menu"
        },
        "title": "Admin Menu",
        "position": 1,
        "groups": ["admin"],
        "items": [
          {
            "order": 1,
            "name": "Dashboard",
            "link": "/admin",
            "description": "Admin dashboard",
            "icon": "dashboard"
          },
          {
            "order": 2,
            "name": "Users",
            "link": "/admin/users",
            "description": "Manage users",
            "icon": "users"
          },
          {
            "order": 3,
            "name": "Content",
            "link": "/admin/content",
            "description": "Manage content",
            "icon": "content"
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "main-pages"
        },
        "title": "Main Pages",
        "position": 2,
        "items": [
          {
            "order": 1,
            "name": "Home",
            "link": "/",
            "description": "Homepage",
            "icon": "home"
          },
          {
            "order": 2,
            "name": "About Us",
            "link": "/about-us",
            "description": "About our organization",
            "icon": "info"
          },
          {
            "order": 3,
            "name": "Accessibility",
            "link": "/accessibility",
            "description": "Accessibility information",
            "icon": "accessibility"
          },
          {
            "order": 4,
            "name": "Contact",
            "link": "/contact",
            "description": "Contact information",
            "icon": "contact"
          },
          {
            "order": 5,
            "name": "FAQ",
            "link": "/faq",
            "description": "Frequently asked questions",
            "icon": "help"
          },
          {
            "order": 6,
            "name": "Website",
            "link": "/website",
            "description": "Website information",
            "icon": "web"
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "about-menu"
        },
        "title": "About",
        "position": 3,
        "items": [
          {
            "order": 1,
            "name": "Contact",
            "link": "/contact",
            "description": "Contact information",
            "icon": "contact"
          },
          {
            "order": 2,
            "name": "FAQ",
            "link": "/faq",
            "description": "Frequently asked questions",
            "icon": "help"
          },
          {
            "order": 3,
            "name": "Website",
            "link": "/website",
            "description": "Website information",
            "icon": "web"
          }
        ]
      },
      {
        "@self": {
          "register": "publication",
          "schema": "menu",
          "version": "1.1.0",
          "slug": "legal-menu"
        },
        "title": "Legal",
        "position": 6,
        "items": [
          {
            "order": 1,
            "name": "Cookies",
            "link": "/cookies",
            "description": "Cookie policy",
            "icon": "cookie"
          },
          {
            "order": 2,
            "name": "Privacy",
            "link": "/privacy",
            "description": "Privacy policy",
            "icon": "privacy"
          },
          {
            "order": 3,
            "name": "Disclaimer",
            "link": "/disclaimer",
            "description": "Legal disclaimer",
            "icon": "legal"
          }
        ]
      }
    ]
  },
  "info": {
    "id": 21,
    "title": "Publication",
    "description": "",
    "version": "0.0.4"
  }
}
